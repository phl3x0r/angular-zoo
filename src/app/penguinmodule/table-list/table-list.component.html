<ng-container *ngIf="dataSource && dataSource.filteredData && dataSource.filteredData.length > 0; else emptyDefault">
  <div class="group-header" *ngIf="title">{{title}}</div>
  <table mat-table [dataSource]="dataSource" matSort>

    <ng-container *ngFor="let col of displayedColumns" [matColumnDef]="col.name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        {{col.name}}
      </th>
      <td mat-cell class="data-cell" *matCellDef="let element">
        {{element[col.name]}}
      </td>
    </ng-container>

    <tr mat-header-row class="header-row" *matHeaderRowDef="columnList"></tr>
    <tr mat-row class="data-row" *matRowDef="let row; columns: columnList"></tr>
  </table>
</ng-container>

<ng-template #emptyDefault>
  <div>
    No results for {{title}}
  </div>
</ng-template>